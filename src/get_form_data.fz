//creating get_form_data in Fz instead of calling the java version "getFormData"
module get_form_data(post_data String, cmd String, raw_query String, content_type String, content_type_boundary String) outcome (lock_free.map String String) =>

  if cmd = "POST"

    if content_type = "application/x-www-form-urlencoded"
      url_encoded.parse_urlencoded_map post_data

    else if content_type = "multipart/form-data"
      parse_multipart_form_data post_data content_type_boundary

    else
      error "Wrong / unsupported content type in request."

  else
    url_encoded.parse_urlencoded_map raw_query
